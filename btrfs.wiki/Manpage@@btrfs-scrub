
=btrfs-scrub(8) Manual Page=
{{GeneratedManpage
|name=btrfs-scrub}}


==NAME==

btrfs-scrub - scrub btrfs filesystem

==SYNOPSIS==

'''btrfs scrub''' &lt;subcommand&gt; &lt;args&gt;

==DESCRIPTION==

'''btrfs scrub''' is used to scrub a btrfs filesystem, which will reading all data from all disks and verifying checksums.

==SUBCOMMAND==

; '''start''' [-BdqrRf] [-c &lt;ioprio_class&gt; -n &lt;ioprio_classdata&gt;] &lt;path&gt;|&lt;device&gt;
: Start a scrub on all devices of the filesystem identified by &lt;path&gt; or on a single &lt;device&gt;. <br /> Without options, scrub is started as a background process. Progress can be obtained with the '''scrub status''' command. Scrubbing involves reading all data from all disks and verifying checksums. Errors are corrected along the way if possible. <br /> The default IO priority of scrub is the idle class. The priority can be configured similar to the [http://man7.org/linux/man-pages/man1/ionice.1.html ionice(1)] syntax using '''-c''' and '''-n''' options. <br /><code>Options</code><br />
:; -B
:: Do not background and print scrub statistics when finished.
:; -d
:: Print separate statistics for each device of the filesystem (-B only).
:; -q
:: Quiet. Omit error messages and statistics.
:; -r
:: Read only mode. Do not attempt to correct anything.
:; -R
:: Raw print mode. Print full data instead of summary.
:; -c &lt;ioprio_class&gt;
:: Set IO priority class (see ionice (1) manpage).
:; -n &lt;ioprio_classdata&gt;
:: Set IO priority classdata (see [http://man7.org/linux/man-pages/man1/ionice.1.html ionice(1)] manpage).
:; -f
:: force to check whether scrub has started or resumed in userspace. this is useful when scrub stat record file is damaged.
; '''cancel''' &lt;path&gt;|&lt;device&gt;
: If a scrub is running on the filesystem identified by &lt;path&gt;, cancel it. <br /> Progress is saved in the scrub progress file and scrubbing can be resumed later using the scrub resume command. If a &lt;device&gt; is given, the corresponding filesystem is found and scrub cancel behaves as if it was called on that filesystem.
; '''resume''' [-BdqrR] [-c &lt;ioprio_class&gt; -n &lt;ioprio_classdata&gt;] &lt;path&gt;|&lt;device&gt;
: Resume a canceled or interrupted scrub cycle on the filesystem identified by &lt;path&gt; or on a given &lt;device&gt;. <br /> Does not start a new scrub if the last scrub finished successfully. <br /><code>Options</code><br /> see '''scrub start'''.
; '''status''' [-d] &lt;path&gt;|&lt;device&gt;
: Show status of a running scrub for the filesystem identified by &lt;path&gt; or for the specified &lt;device&gt;. <br /> If no scrub is running, show statistics of the last finished or canceled scrub for that filesystem or device. <br /><code>Options</code><br />
:; -d
:: Print separate statistics for each device of the filesystem.

==EXIT STATUS==

'''btrfs scrub''' returns a zero exist status if it succeeds. Non zero is returned in case of failure.

==AVAILABILITY==

'''btrfs''' is part of btrfs-progs. Please refer to the btrfs wiki http://btrfs.wiki.kernel.org for further details.

==SEE ALSO==

[[Manpage/mkfs.btrfs|mkfs.btrfs(8)]],


[[Category:Manpage]]